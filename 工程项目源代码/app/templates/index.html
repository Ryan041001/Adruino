<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é€‚è€åŒ–è¯­éŸ³å¤‡å¿˜å½•ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function updateTime() {
            const now = new Date();
            const year = now.getFullYear();
            const month = (now.getMonth() + 1).toString().padStart(2, '0');
            const day = now.getDate().toString().padStart(2, '0');
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            document.getElementById('datetime').textContent = `${year}å¹´${month}æœˆ${day}æ—¥ ${hours}:${minutes}:${seconds}`;
        }

        setInterval(updateTime, 1000);

        // Mock functions for button interactions
        function addMessage(text) {
            const messageArea = document.getElementById('message-area');
            const time = new Date().toLocaleTimeString('zh-CN', { hour12: false });
            messageArea.innerHTML += `<p>[${time}] ${text}</p>`;
            messageArea.scrollTop = messageArea.scrollHeight;
        }

        document.addEventListener('DOMContentLoaded', () => {
            updateTime();
            addMessage('ç³»ç»Ÿå¯åŠ¨å®Œæˆ');

            document.getElementById('start-record').addEventListener('click', () => {
                addMessage('å¼€å§‹å½•éŸ³...');
            });

            document.getElementById('stop-record').addEventListener('click', () => {
                addMessage('åœæ­¢å½•éŸ³ã€‚');
            });

            document.getElementById('clear-reminders').addEventListener('click', () => {
                addMessage('æé†’å·²æ¸…é™¤ã€‚');
                document.getElementById('reminder-list').innerHTML = '<div class="no-reminder">æš‚æ— æé†’</div>';
            });

            // Dialog logic
            const exitDialog = document.getElementById('exit-dialog');
            const closeButton = document.querySelector('.title-bar-controls .close');
            
            function showDialog() {
                exitDialog.style.display = 'flex';
            }

            function hideDialog() {
                exitDialog.style.display = 'none';
            }

            closeButton.addEventListener('click', showDialog);
            document.getElementById('dialog-close-btn').addEventListener('click', hideDialog);
            document.getElementById('dialog-no-btn').addEventListener('click', hideDialog);
            document.getElementById('dialog-yes-btn').addEventListener('click', () => {
                // In a real Electron app, you would close the window here.
                // For the web version, we can just hide the dialog.
                addMessage('ç³»ç»Ÿå·²é€€å‡ºã€‚');
                hideDialog();
                // Example: window.close(); or ipcRenderer.send('close-app');
            });
        });
    </script>
</head>
<body>
    <div class="window">
        <div class="title-bar">
            <div class="title-bar-title">
                <!-- You can add an icon here if you have one -->
                <!-- <img src="path/to/icon.png" alt="icon"> -->
                <span>é€‚è€åŒ–è¯­éŸ³å¤‡å¿˜å½•ç³»ç»Ÿ</span>
            </div>
            <div class="title-bar-controls">
                <button class="minimize">âˆ’</button>
                <button class="maximize">â—»</button>
                <button class="close">Ã—</button>
            </div>
        </div>
        <div class="container">
            <div id="exit-dialog" class="dialog-overlay">
                <div class="dialog-box">
                    <div class="dialog-header">
                        <h3 class="dialog-title"><span>ğŸ“</span>ç¡®è®¤é€€å‡º</h3>
                        <button class="dialog-close" id="dialog-close-btn">Ã—</button>
                    </div>
                    <div class="dialog-content">
                        <div class="dialog-icon">â“</div>
                        <p class="dialog-message">ç¡®å®šè¦é€€å‡ºè¯­éŸ³æé†’ç³»ç»Ÿå—ï¼Ÿ</p>
                    </div>
                    <div class="dialog-buttons">
                        <button class="dialog-button no" id="dialog-no-btn">No</button>
                        <button class="dialog-button yes" id="dialog-yes-btn">Yes</button>
                    </div>
                </div>
            </div>
            <header class="header">
                <h1><span>ğŸ™ï¸</span>é€‚è€åŒ–è¯­éŸ³å¤‡å¿˜å½•ç³»ç»Ÿ</h1>
                <p id="datetime"></p>
            </header>
            <main class="main-content">
                <div class="left-column card">
                    <h2 class="card-title"><span>ğŸ’¬</span>æ¶ˆæ¯é€šçŸ¥</h2>
                    <div class="initial-message">ç³»ç»Ÿå°±ç»ª - ç‚¹å‡»å¼€å§‹å½•éŸ³æŒ‰é’®æ·»åŠ æé†’</div>
                    <div id="message-area" class="message-area">
                        <!-- Messages will be added here by JavaScript -->
                    </div>
                </div>
                <div class="middle-column">
                    <button id="start-record" class="action-button"><span>â–¶ï¸</span>å¼€å§‹å½•éŸ³</button>
                    <button id="stop-record" class="action-button"><span>â¹ï¸</span>åœæ­¢å½•éŸ³</button>
                    <button id="clear-reminders" class="action-button"><span>ğŸ—‘ï¸</span>æ¸…é™¤æé†’</button>
                </div>
                <div class="right-column card">
                    <h2 class="card-title"><span>ğŸ“Œ</span>æé†’äº‹é¡¹</h2>
                    <div class="reminder-placeholder">--:--</div>
                    <div id="reminder-list">
                        <div class="no-reminder">æš‚æ— æé†’</div>
                        <!-- Reminder items will be added here -->
                        <!-- Example of a reminder item -->
                        <!-- 
                        <div class="reminder-item">
                            <strong>15:30</strong> - ä¸‹åˆåƒè¯
                        </div>
                        -->
                    </div>
                </div>
            </main>
        </div>
    </div>
</body>
</html>